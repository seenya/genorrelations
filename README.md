genorrelations
==============
This was originally forked from [[https://github.com/hqtan/healthhack2013][hqtan/healthhack2013]] with the intent to:
* Solve the same problem
* Utilise more robust storage (neo4j + mongodb)
* Enable users to submit new datasets through the web UI

Setting up the dev environment
------------------------------
* Install git
* Download the repo - git clone git@github.com:hqtan/healthhack2013.git
* Install node http://nodejs.org
* Open terminal to the root directory of the repository
* npm install
* node app.js
* navigate to http://localhost:3000


Importing Data
--------------
Data is assumed to be in the format: 

`["gene1", "gene2", "etc"][[geneIndex1, geneIndex2, correlation][repeat pattern]]`

e.g.

`["Pomp", "Blvra", "net1"][[0, 1, 0.7][1, 2, -0.7]]` 
- Pomp has a correlation of 0.7 to Blvra and Blvra has a correlation of -0.7 to net1.

To import data you need to run:

`node ./helpers/transformer.js inputfile id name`

e.g.

`node ./helpers/transformer.js ./data/raw95.txt 95 firstSample`

This will generate the file 95.json.

The stats are generated by then calling:

`node ./helpers/statsGenerator.js id`

e.g.

`node ./helpers/statsGenerator.js 95`

This will generate the file 95.stats.json.

This first file contains the id, name, nodes, and edges within the dataset. The second file is used to generate the statistics on the genes that are used to determine the top 5 genes that will be selectable in the drill down.

You can skip the transform step by simply creating the required dataset json format (above that was 95.json) of:

`{
  "id":xx,
  "name":"data set name",
  "nodes":[{"name":"gene1"},{"name":"gene2"},{"name":"etc"}],
  "edges":[[gene1Index,gene2index,correlation],[repeat pattern]]
}`

e.g.

`{
  "id":95,
  "name":"firstSample",
  "nodes":[{"name":"Pomp"},{"name":"Blvra"},{"name":"net1"}],
  "edges":[[0,1,0.7],[1,2,-0.7]]
}`

You will however still need to run the statsGenerator script to generate the *.stats.json file which will enable the filtering functionality.

Adding your dataset to the Index page
-------------------------------------

To add your dataset to the index/home page (http://localhost:3000) you will need to open up the file ./views/index.ejs and add another item to the list in the form:

`<li><a href="visualise?id=YourIDHere">Your funky test data set name here</a></li>`

Then when you start up the app `node app.js` and navigate to http://localhost:3000 you should see your new data set listed in the very basic list.
